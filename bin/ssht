#!/bin/bash

source ~/.bash_export
if [ $? -ne 0 ]; then exit 1; fi

if [ -z "$SIR_PORT" ] || [ -z "$SIR_HOST" ]; then
    echo You need \$SIR_PORT and \$SIR_HOST setted in your profile.
    exit 1
fi

PRG="$1"
shift

# To launch shell in certain directory
# ssh -t example.com "cd /foo/bar; exec \$SHELL -l"

case "$PRG" in
    sir)
        { SS=autossh && hash $SS >/dev/null 2>&1; } || SS=ssh
        $SS -X -p $SIR_PORT "$SIR_HOST" $@ ;;
    mpd) ~/.bin/ssht.d/sir-mpd $@ ;;
    srk) LC_ALL=en_US.UTF-8 ssh -X srkb $@ ;;
    amazon) LC_ALL=en_US.UTF-8 ssh amazon $@ ;;
    kedi) ssh -X lok $@ ;;
    *) ;;
esac
