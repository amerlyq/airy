#!/bin/bash
# About 'file' command
#   https://www.ibm.com/developerworks/community/blogs/58e72888-6340-46ac-b488-d31aa4058e9c/entry/get_over_extensions_use_file_command_to_determine_file_types_in_linux?lang=en

NM="$1"
NAME="${NM%/*}"
EXT="${NAME##*.}"
TYPE=$(file -i "$NM" | sed 's/.*:\s*\(\S*\);\s.*/\1/;q')
pause() { read -n 1 -p "<======== Press any key to continue \
($(date +"%T")) ========> " tmp; }

echo $NAME

# Names
case "$NAME" in
    Makefile*) make -f "$NAME" ;;
    CMakeLists\.txt) sir       ;;
*) # Extensions
case "$EXT" in
    sh) "$PWD/$NM" && pause ;;
    py) python "$PWD/$NM" && pause ;;
    dot) dot -Tx11 "$NM"     ;;
    *) # Types
    case "$TYPE" in
               text/x*) "$PWD/$NM" && pause ;;
        application/x*) "$PWD/$NM" || pause ;;
    esac
    ;;
esac
;;
esac

if [ $? -ne 0 ]; then pause; fi
