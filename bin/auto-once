#!/bin/sh

# Max seconds to wait until the process is up
# MAXWAIT=30
#
# # Start the given command and wait until it's visible
# Launch()
# {
#     "$@" & # Handle arguments with whitspaces
#     mypid=$! # Pid of last background process
#     for i in `seq $MAXWAIT` # count from 1 to MAXWAIT
#     do
#      if xdotool search --onlyvisible --pid $mypid; then
#      return 0
#      fi
# sleep 1
#     done
#     # Replace on i3-notify
#     xmessage "Error on executing: $@" &
# }

#Launch wuala

lau() {
    local pr="$1"
    if [ $(which $pr) ]
    then
        pgrep $1 > /dev/null || { $@ & }
    fi
}

lau kbdd
lau mpd
lau copyq

#i3-msg workspace "$(i3-msg -t get_workspaces | sed 's/.*"num":1,"name":"\([^"]*\).*/\1/')" &

#notification
#dunst -config ~/.i3/dunstrc &

