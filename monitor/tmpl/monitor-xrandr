#!/bin/bash
set -euo pipefail

dfl=eDP-1
ext=DP-1
kw=1/4
w=3840
h=1600
# NOTE: reduce physical size to increase virtual dpi
mw=874
mh=366

xrandr --delmonitor "$ext~1" --delmonitor "$ext~2"

[[ $* =~ s ]] && xrandr \
  --setmonitor "$ext~1" 2880/654x1600/366+960+0 "$ext" \
  --setmonitor "$ext~2"  960/218x1600/366+0+0 none

case $*
in *d*) xrandr --output "$dfl" --primary --auto --below "$ext"
;; *e*) xrandr --output "$dfl" --off --output "$ext" --primary
;; *a*|'') xrandr --output "$dfl" --primary --auto --below "$ext" --output "$ext" --auto
esac

r.feh
