#!/bin/bash -e
source ~/.shell/func.d/packages

if distro arch; then
    pkg_inst -p 'nvim' neovim
    pkg_inst -y 'neovim' python-neovim
    pkg_inst -Y 'neovim' python2-neovim
    # pkg_inst -y 'yaml' python-yaml
    pkg_inst -y 'jedi' python-jedi
    pkg_inst ghc-mod

    ## External deps
    # aur_inst zeal
    pkg_inst hlint
    ## For vim-clang-format and vim-autoformatter
#    pkg_inst -p 'clang-format' clang-tools-extra
#    pkg_inst astyle tidy
#    aur_inst js-beautify  # BAD python-autopep8 beautify-css

elif distro ubuntu; then
    # for vimoutliner export in mindmap
    pkg_inst vim-gtk python3-yaml
    # libclang-dev for autocompleter in vim
    pkg_inst libclang-dev clang-format-3.5
    pip_inst jedi  # neovim
    echo "Err: not all"
fi

# Install vim plugins
./update $(cfgOpt u && echo -u)
