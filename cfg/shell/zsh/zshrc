# vim: ft=zsh

# See
# Commands to bind
# http://zsh.sourceforge.net/Doc/Release/Zsh-Line-Editor.html#Standard-Widgets

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

##### Vars #####

# export GPG_TTY=$(tty)

ZSH_THEME="airy"

# export MANPATH="/usr/local/man:$MANPATH"

WORDCHARS='*?_-.[]~=&;!#$%^(){}<>'

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Add wisely, as too many plugins slow down shell startup.
# plugins=(adb autojump completion git grep history-substring-search)

# Main configuration
# source ~/.shell/zsh/options.zsh
# source ~/.shell/zsh/completion.zsh
# source "$ZSH/oh-my-zsh.sh"

# User configuration
if [[ -f ~/.shenv ]]; then source ~/.shenv; fi
source ~/.shell/zsh/amer-widgets.zsh
source ~/.shell/zsh/amer-key-mix.zsh
source ~/.shell/zsh/filetypes.zsh
DEFAULT_USER="$CURR_USER"

# ~/.zshenv -- always sourced by zsh (before ~/.zshrc).
# WARNING: Available even in scripts! With #!/zsh
# But as I mostly writing portable scripts in bash, it's not a problem.
# WARNING: It should not contain commands that produce output or assume the
# shell is attached to a tty.
# So it can't be used to source aliases to be available in ranger.
# For bash use analogue BASH_ENV=$HOME/.zshenv before launching
if [[ -f ~/.shell/aliases ]]; then source ~/.shell/aliases ; fi
# export SHELL=$(which zsh)

# To sync zsh and ranger working directories
function finish { echo "$PWD" > '/tmp/aura/ranger_cwdir'; }
trap finish EXIT
