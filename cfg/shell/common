# vim:ft=sh

### Aura mods profiles (links only) ###
# FIXME: what if user want to overwrite some of my aliases?
if [[ -d ~/.cache/airy/env ]]; then
  for L in ~/.cache/airy/env/*
  do [[ ! -L "$L" ]] || source "$L"; done
fi

# Alias definitions.
source ~/.shell/aliases

# Execute exported commands for chroot and ssh
# BAD: can't be used for non-interactive shell (like r.chroot)
#   $ bash -ic '"$@"' "$0" "$@"
[[ -z $SHELLRC_EVAL ]] || eval "$SHELLRC_EVAL"

## Trap to sync bash/zsh and ranger working directories.
trap '_ranger_cwd' EXIT
_ranger_cwd(){
  local tmp=${RANGER_TMPDIR:-${TMPDIR:-/tmp}/ranger}
  builtin test -d "$tmp" || command mkdir -p "$tmp"
  (set +C && printf "%s" "$PWD" > "$tmp/cwd")  # Disable clobbering
}
