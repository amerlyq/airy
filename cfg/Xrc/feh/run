#!/bin/bash -e

# Set new wallpaper
if [[ -n "$1" ]]; then
    ln -svf "$(readlink -m "$1")" ~/.wallpaper
fi

if [[ -f ~/.wallpaper ]]; then  # symlink to one wallpaper
    feh --bg-fill ~/.wallpaper
elif [[ -d ~/.wallpaper ]]; then  # random wallpaper from dir
    feh --bg-fill "$(find ~/.wallpaper/ | shuf -n1)"
else xsetroot -gray; fi
