# show mail list before it's content
set pager_index_lines=5

set editor = 'edit -c "set spell spelllang=ru_yo,en_us,uk"'
# set edit_headers # see the headers when editing
set sort = reverse-threads # sort by newest conversation first
set sort_aux = last-date-received

# confirmation skipping
# set fast_reply=yes        # when replying, don't prompt for address
# set include=yes           # include original text on reply?
# set forward_quote=yes     # include original text on forward?
# set delete=yes            # don't ask for delete confirmation

set use_from = yes
set abort_nosubject=yes
# set copy = no
set move = no
set ssl_starttls = yes
set ssl_force_tls = yes

# Automatically include message when replying
set include=ask-yes
# Ask before printing
set print=ask-yes

# IMAP | enough only set local dirs
## Check incoming
set mail_check=20
set timeout=120
set imap_keepalive = 900


# POP3 | needs to create local dirs manually
#   touch ~/work/mail/inbox
### If I will use getmail
set mbox_type=Maildir

set pop_reconnect = yes
set pop_checkinterval = 60
unset pop_delete
# Similar to IMAP, a pop_authenticators option also exists


## BINDING
## fetch mail by I
# macro index,pager I "!getmail"
## Fetch mail shortcut
# bind index G imap-fetch-mail

# Folder hooks
folder-hook 'acc.amerlyq' 'source ~/.cache/mutt/acc/amerlyq'
folder-hook 'acc.work'    'source ~/.cache/mutt/acc/work'

# Default account
source ~/.cache/mutt/acc/default

## DIRS
set record = "+sent"              # where to store sent messages
set header_cache = ~/.cache/mutt/headers
set message_cachedir = ~/.cache/mutt/bodies
set certificate_file = ~/.cache/mutt/certificates
# set signature = ~/.mutt/signature


# Macros for switching accounts
macro index <f2> "<sync-mailbox><enter-command>\n\
:source ~/.cache/mutt/acc/amerlyq<enter><change-folder>!<enter>"
macro index <f3> "<sync-mailbox><enter-command>\n\
:source ~/.cache/mutt/acc/work<enter><change-folder>!<enter>"


## ALIASES
#set alias_file = "~/.mutt/aliases"
#set sort_alias = alias
#set reverse_alias = yes
#source $alias_file

## THEME
# source ~/pkg/mutt-colors-solarized/mutt-colors-solarized-light-16.muttrc
source ~/pkg/mutt-colors-solarized/mutt-colors-solarized-dark-16.muttrc

## COMMANDS
mailboxes +inbox
# mailboxes imaps://imap.gmail.com/INBOX    # Space-delimited list: imaps://imap.gmail.com/family
#>  config includes a macro bound to the 'y' key which will allow you to change
#>  to any of the folders listed under mailboxes
# ALT: set imap_check_subscribed

## HTML enriched mails
auto_view text/html                                      # view html automatically
alternative_order text/plain text/enriched text/html     # save html for last
bind attach <return>    view-mailcap
