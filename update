#!/bin/bash -e
source ~/.shell/func.d/system

# NOTE: If problem with package update, firts update 'archlinux-keyring' pkg

if distro arch; then
  # CHECK will it upgrade AUR pkgs
  sudo pacman -Syu ||: # NOTE: --ignore=firefox
  # OR: /etc/pacman.conf: IgnorePkg=firefox ; IgnoreGroup=core
  # Degrade manually:
  #   pacman -U /var/cache/pacman/pkg/firefox-42.0-3-x86_64.pkg.tar.xz

elif distro ubuntu; then
  sudo apt-get install gawk
  echo "sudo apt-get update && sudo apt-get upgrade"
fi

# TODO:ADD: 'gem/python/cabal update && upgrade' if pr is found
#   -- THINK: not much necessary -- as pacman-like packages are preffered
#   -- MAYBE place into './update' of their relative dir?
#   -- NOT: ./update reserved for local machine caching stuff

if has_pr cabal; then cabal update; fi    # Haskell
# DISABLED: unreasonable for kedi
# if has_pr bundle; then bundle update; fi  # Ruby
