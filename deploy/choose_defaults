#!/bin/bash

source ~/.shell/funcs

# Windows manager
# dst=~/.dmrc
# wbegin
# # Language=en_US -- breaks
# wstr "[Desktop]
# Session=i3"
# echo "W: $dst  <- i3"

# Editor
# dst=~/.selected_editor
# wbegin
# wstr "SELECTED_EDITOR=\"$(which vim.gtk)\""
# echo "W: $dst  <- vim"


# Interactive choose
#   sudo update-alternatives --config gnome-www-browser
# Set default prs
# TODO: split over appropriate setups, use checking before update
#   if [[ -n $update ||  ]]
#       update-alternatives --get-selections
#       if update-alternatives --display x-session-manager ... then
# TODO: from pristine also move settings into cfg setups

sudo update-alternatives --set x-window-manager $(which i3)
sudo update-alternatives --set x-terminal-emulator $(which urxvt)
sudo update-alternatives --install /usr/bin/x-www-browser x-www-browser /usr/local/bin/vimb 200
sudo update-alternatives --set x-www-browser /usr/local/bin/vimb
sudo update-alternatives --set www-browser $(which elinks)

sudo update-alternatives --set vim $(which vim.gtk)
sudo update-alternatives --set view $(which vim.gtk)
sudo update-alternatives --set rview $(which vim.gtk)
sudo update-alternatives --set editor $(which vim.gtk)

# To disable default notification daemon on Lubuntu
XFCE=/usr/share/dbus-1/services/org.xfce.xfce4-notifyd.Notifications.service
[ -f "$XFCE" ] && sudo mv -n $XFCE{,.disabled}

# See all groups:

# update-alternatives
#     x-session-manager cinnamon-session-cinnamon

### Shell ###
# Choose default shell
ZSH=$(which zsh)
ZSH=${ZSH:-$(which bash)}
#sudo chsh -s `which zsh`
sudo usermod -s $ZSH "$CURR_USER"

