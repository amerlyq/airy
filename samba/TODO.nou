TODO
  [_] Shares -- MOVE in private profile
  [_] read about samba and rights for domain users
    http://www.cyberciti.biz/tips/howto-find-for-available-smb-shares.html
    http://www.tldp.org/HOWTO/SMB-HOWTO-8.html
  [_] permissions
    https://stackoverflow.com/questions/20958888/preserving-file-permissions-for-samba-shares-when-file-is-edited
      https://www.samba.org/samba/docs/using_samba/ch08.html
    https://askubuntu.com/questions/97669/i-cant-get-samba-to-set-proper-permissions-on-created-directories
    https://www.virtualmin.com/node/31110
    ++ https://forum.openmediavault.org/index.php/Thread/4979-How-I-solved-my-file-permissions-problems-kinda/
    +++ http://cri.ch/linux/docs/sk0002.html
    $ vi /etc/samba/smb.conf
    # force create mode = 0777
    # force directory mode = 0777
      BAD: reset on restart
    # map archive = no
    # inherit permissions = yes
  [_] BUG: cannot remove symlinks on NAS ⌇⡟⠎⣇⢃
    ::: looks like the problem is related to NAS-patched TrashBin ./.!@#$recycle
    [_] ALSO: cannot create symlinks :: OSError: [Errno 95] Operation not supported: 'OST' -> '/net/share/misc/music-hifi/OST_'
    [_] ALT:HACK: work with symlinks only through SSH
      - create "/net/share" on NAS to have the same paths on NAS and HOST
      - add !ranger shortcuts to create/remove ssh://lc/%p symlinks using abspath %p on HOST
    [_] MAYBE you need SMBv3 sharing
    [Samba] Cannot remove symlink with missing target ⌇⡞⣰⣬⠕
      https://lists.samba.org/archive/samba/2016-January/197033.html
        FIXED:BUG:
          https://bugzilla.samba.org/show_bug.cgi?id=10429
          https://bugzilla.samba.org/show_bug.cgi?id=8663
          https://bugzilla.samba.org/show_bug.cgi?id=7234
      https://lists.samba.org/archive/samba/2016-January/197050.html
        MAYBE: "…found that enabling the recycle bin for the SMB share in Synology DSM is what causes this bevahior."
    SEE: linux - Samba, CIFS and Deleting Files - Stack Overflow ⌇⡞⣰⣰⢊
      https://stackoverflow.com/questions/1314440/samba-cifs-and-deleting-files/1950860
    ALSO
      https://superuser.com/questions/1337257/clients-cant-create-symlinks-on-samba-share
      https://access.redhat.com/solutions/54407
      https://unix.stackexchange.com/questions/5120/how-do-you-make-samba-follow-symlink-outside-the-shared-path

  2020-07-15 [X] BUG: trailing dot "name." is subjected to Windows-mangling ⌇⡟⠎⢸⠦
    OFF:FAIL: WinAPI explicitly does not allow trailing <dot> or <space> or <space-before-dot>
      << you can workaround it using raw path prefix "\\?\...", BUT then all soft will be broken
        ¦ I can't see the folder in powershell, cmd.exe or explorer.exe. When I tried to create it a second time, I'm informed it already exists!
          SRC: https://www.reddit.com/r/windows/comments/1ppuo8/why_cant_i_name_a_folder_with_a_trailing_full_stop/
      How to create folder with trailing dot (.) in .NET/C#? - Stack Overflow ⌇⡟⠎⢷⢕
        https://stackoverflow.com/questions/15775867/how-to-create-folder-with-trailing-dot-in-net-c
      linux - Why does NTFS disallow the use of trailing periods in directory names? - Super User ⌇⡟⠎⢶⡲
        https://superuser.com/questions/585097/why-does-ntfs-disallow-the-use-of-trailing-periods-in-directory-names
          ~~ compatibility with old MS-DOS or Windows 3.11 programs. In the 8.3 filename world, an empty extension and no extension at all was the same thing
          ~~ Win32 API does not allow trailing dot
        https://github.com/bazelbuild/bazel/issues/2173
    2020-07-15 [$] FIND: samba allow special char in path
      ::: I only need trailing "." for now -- and it's impossible
    [_] CHECK: can you create "some/group./here" on Windows -- looks like trailing dot will disappear on try
    OFF:SPEC: Naming and Referencing Shares, Directories, Files, and Metadata - Azure Storage | Microsoft Docs ⌇⡞⣰⣴⡎
      https://docs.microsoft.com/en-us/rest/api/storageservices/naming-and-referencing-shares--directories--files--and-metadata
    OFF: Naming Files, Paths, and Namespaces - Win32 apps | Microsoft Docs ⌇⡟⠎⢸⢬
      https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file?redirectedfrom=MSDN
    CFG:(disable): Special characters in Samba filenames - Server Fault ⌇⡞⣰⣳⢱
      https://serverfault.com/questions/124611/special-characters-in-samba-filenames
    HACK:(mapping): samba how to display files with colon in their names? - Unix & Linux Stack Exchange ⌇⡞⣰⣴⡥
      https://unix.stackexchange.com/questions/299130/samba-how-to-display-files-with-colon-in-their-names


Permissions
  2018-02-17 [X] windows runs executable only if "r-x" set on file
    https://wiki.samba.org/index.php/Setting_up_a_Share_Using_POSIX_ACLs
    https://askubuntu.com/questions/614098/unable-to-get-execute-bit-on-samba-share-working-with-windows-7-client
    ::: TEMP: allow executing anything, as before samba=3.6.2
     acl allow execute always = yes
  [_] permissions for cifs mount
    https://askubuntu.com/questions/982266/how-to-mount-cifs-with-unix-extensions
    $ sudo mount -t cifs -o "user=$USER,vers=1.0,uid=$(id -u),gid=$(id -g)" "//192.168.1.2/share" /mnt
    =WHY= https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/storage_administration_guide/mounting_an_smb_share
    https://unix.stackexchange.com/questions/103415/why-are-files-in-a-smbfs-mounted-share-created-with-executable-bit-set
    https://superuser.com/questions/744384/allow-chmod-on-cifs-mount
  [_] shutdown/reboot
    https://community.wd.com/t/safe-shutdown/147307/42
    Utilities -> Maintenance -> Reboot

REF
  +++ [_] READ https://wiki.samba.org/index.php/Mounting_samba_shares_from_a_unix_client
  http://linux-training.be/networking/ch20.html
  https://www.cyberciti.biz/tips/how-do-i-set-permissions-to-samba-shares.html

WTF: IPC$ (2-Bay) in samba shares
  ? SECU implications ?
  ? related to iSCSI ?

CMP:(NFS vs SAMBA): NFS is 3x faster for 10kB files
  https://ferhatakgun.com/network-share-performance-differences-between-nfs-smb/


USAGE
  List all samba users on server
    $ sudo pdbedit -L -v
  List all shares in local network
    $ smbtree -b -N
    $ smbtree -U $USER
  List shares (visible to anybody)
    $ smbclient -L 192.168.1.2 -U%
    $ smbclient -L 192.168.1.2
    $ smbclient -L -A <(printf "username = $USER\npassword = $(pass samba/$USER)") 192.168.1.2
  List files
    $ smbclient //192.168.1.2/share -c ls
    $ smbclient //192.168.1.2/Public -N -c ls
  Upload files
    $ smbclient '//example.com/Public' -U "domain\\$USER%$(pass domain/$USER)" -c "mkdir $USER"
    $ smbclient '//example.com/Public' -U "domain\\$USER%$(pass domain/$USER)" -D "$USER" -c 'put "some file.jpg"'
    $ smbclient '//example.com/Public' -U "domain\\$USER%$(pass domain/$USER)" -D "$USER" -c ls
  Download all files or folder
    $ smbclient '//example.com/Public' -U "domain\\$USER%$(pass domain/$USER)" -D "$USER" -c 'mget *'
    $ smbclient '//example.com/Public' -N -c 'mask "";prompt OFF;recurse ON;mget *'
  Permissions (ACL-based)
    $ smbcacls //192.168.1.2/share myfile -U user%password
  Mount
    $ sudo mount -t cifs -o "user=$USER,uid=$(id -u),gid=$(id -g),iocharset=utf8" "//192.168.1.2/share" /mnt
      # ,workgroup=workgroup,ip=serverip
    $ mount -t cifs -o "users,user=$USER,uid=$(id -u),gid=$(id -g),iocharset=utf8" "//192.168.1.2/share" /mnt
